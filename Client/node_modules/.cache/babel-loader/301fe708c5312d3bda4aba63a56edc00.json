{"ast":null,"code":"var _jsxFileName = \"/media/shubham/Shubham/CODEASYLUMS/MY PROJECTS/shopping_list/client/src/components/ShoppingList.js\";\nimport React from 'react';\nimport axios from \"axios\";\nimport { Container, ListGroup, ListGroupItem, Button } from 'reactstrap';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nexport default class ShoppingList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: [{\n        id: Number\n      }]\n    };\n\n    this.getDataFromDb = () => {\n      fetch(\"http://localhost:5000/get\").then(data => data.json()).then(res => this.setState({\n        items: res.data\n      }));\n    };\n\n    this.postDataToDb = name => {\n      let currentIds = this.state.items.map(items => items.id);\n      let idToBeAdded = 0;\n\n      while (currentIds.includes(idToBeAdded)) {\n        ++idToBeAdded;\n      }\n\n      axios.post(\"http://localhost:5000/post\", {\n        id: idToBeAdded,\n        name: name\n      });\n    };\n\n    this.deleteData = id => {\n      axios.delete(\"http://localhost:5000/delete\", {\n        data: {\n          id: id\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getDataFromDb();\n\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 2000);\n      this.setState({\n        intervalIsSet: interval\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          items = _this$state.items,\n          id = _this$state.id;\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"dark\",\n      style: {\n        marginBottom: '2rem'\n      },\n      onClick: () => {\n        const name = prompt('Enter Item');\n\n        if (name) {\n          this.postDataToDb(name);\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Add Item\"));\n  }\n\n}","map":{"version":3,"sources":["/media/shubham/Shubham/CODEASYLUMS/MY PROJECTS/shopping_list/client/src/components/ShoppingList.js"],"names":["React","axios","Container","ListGroup","ListGroupItem","Button","CSSTransition","TransitionGroup","ShoppingList","Component","state","items","id","Number","getDataFromDb","fetch","then","data","json","res","setState","postDataToDb","name","currentIds","map","idToBeAdded","includes","post","deleteData","delete","componentDidMount","intervalIsSet","interval","setInterval","componentWillUnmount","clearInterval","render","marginBottom","prompt"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,SAAnB,EAA6BC,aAA7B,EAA2CC,MAA3C,QAAwD,YAAxD;AACA,SAAQC,aAAR,EAAsBC,eAAtB,QAA4C,wBAA5C;AACA,eAAe,MAAMC,YAAN,SAA2BR,KAAK,CAACS,SAAjC,CAA0C;AAAA;AAAA;AAAA,SACxDC,KADwD,GAClD;AACLC,MAAAA,KAAK,EAAC,CACN;AAACC,QAAAA,EAAE,EAACC;AAAJ,OADM;AADD,KADkD;;AAAA,SAqBvDC,aArBuD,GAqBvC,MAAM;AACpBC,MAAAA,KAAK,CAAC,2BAAD,CAAL,CACGC,IADH,CACQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADhB,EAEGF,IAFH,CAEQG,GAAG,IAAI,KAAKC,QAAL,CAAc;AAAET,QAAAA,KAAK,EAAEQ,GAAG,CAACF;AAAb,OAAd,CAFf;AAGD,KAzBsD;;AAAA,SA2BvDI,YA3BuD,GA2BxCC,IAAD,IAAQ;AACf,UAAIC,UAAU,GAAC,KAAKb,KAAL,CAAWC,KAAX,CAAiBa,GAAjB,CAAqBb,KAAK,IAAEA,KAAK,CAACC,EAAlC,CAAf;AACH,UAAIa,WAAW,GAAC,CAAhB;;AACA,aAAMF,UAAU,CAACG,QAAX,CAAoBD,WAApB,CAAN,EAAuC;AACrC,UAAEA,WAAF;AACD;;AACJxB,MAAAA,KAAK,CAAC0B,IAAN,CAAW,4BAAX,EAAwC;AACvCf,QAAAA,EAAE,EAACa,WADoC;AAEvCH,QAAAA,IAAI,EAACA;AAFkC,OAAxC;AAIA,KArCsD;;AAAA,SAuCvDM,UAvCuD,GAuC3ChB,EAAD,IAAM;AAChBX,MAAAA,KAAK,CAAC4B,MAAN,CAAa,8BAAb,EAA4C;AACrCZ,QAAAA,IAAI,EAAE;AACRL,UAAAA,EAAE,EAAEA;AADI;AAD+B,OAA5C;AAKA,KA7CsD;AAAA;;AAMvDkB,EAAAA,iBAAiB,GAAG;AAClB,SAAKhB,aAAL;;AACA,QAAI,CAAC,KAAKJ,KAAL,CAAWqB,aAAhB,EAA+B;AAC7B,UAAIC,QAAQ,GAAGC,WAAW,CAAC,KAAKnB,aAAN,EAAqB,IAArB,CAA1B;AACA,WAAKM,QAAL,CAAc;AAAEW,QAAAA,aAAa,EAAEC;AAAjB,OAAd;AACD;AACF;;AAECE,EAAAA,oBAAoB,GAAG;AACvB,QAAI,KAAKxB,KAAL,CAAWqB,aAAf,EAA8B;AAC5BI,MAAAA,aAAa,CAAC,KAAKzB,KAAL,CAAWqB,aAAZ,CAAb;AACA,WAAKX,QAAL,CAAc;AAAEW,QAAAA,aAAa,EAAE;AAAjB,OAAd;AACD;AACF;;AA4BFK,EAAAA,MAAM,GAAE;AAAA,wBACc,KAAK1B,KADnB;AAAA,UACCC,KADD,eACCA,KADD;AAAA,UACOC,EADP,eACOA,EADP;AAEP,WACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AACA,MAAA,KAAK,EAAC,MADN;AAEA,MAAA,KAAK,EAAE;AAACyB,QAAAA,YAAY,EAAC;AAAd,OAFP;AAGA,MAAA,OAAO,EAAE,MAAM;AACd,cAAMf,IAAI,GAAGgB,MAAM,CAAC,YAAD,CAAnB;;AACA,YAAGhB,IAAH,EAAQ;AACP,eAAKD,YAAL,CAAkBC,IAAlB;AACA;AACD,OARD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,CADD;AAiBA;;AAlEuD","sourcesContent":["import React from 'react';\nimport axios from \"axios\";\nimport {Container, ListGroup,ListGroupItem,Button} from 'reactstrap';\nimport {CSSTransition,TransitionGroup} from 'react-transition-group';\nexport default class ShoppingList extends React.Component{\n\tstate={\n\t\titems:[\n\t\t{id:Number},\n\t\t]\n\t}\n  componentDidMount() {\n    this.getDataFromDb();\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 2000);\n      this.setState({ intervalIsSet: interval });\n    }\n  }\t\n\n    componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({ intervalIsSet: null });\n    }\n  }\n\n  getDataFromDb = () => {\n    fetch(\"http://localhost:5000/get\")\n      .then(data => data.json())\n      .then(res => this.setState({ items: res.data }));\n  };\n\n  postDataToDb =(name)=>{\n  \t      let currentIds=this.state.items.map(items=>items.id);\n      let idToBeAdded=0;\n      while(currentIds.includes(idToBeAdded)){\n        ++idToBeAdded;\n      }\n  \taxios.post(\"http://localhost:5000/post\",{\n  \t\tid:idToBeAdded,\n  \t\tname:name\n  \t});\n  };\n\n  deleteData=(id)=>{\n  \taxios.delete(\"http://localhost:5000/delete\",{\n  \t\t      data: {\n        id: id\n      }\n  \t})\n  }\n  \n\trender(){\n\t\tconst { items,id } = this.state;\n\t\treturn(\n\t\t\t<Container>\n\t\t\t\t<Button\n\t\t\t\tcolor=\"dark\"\n\t\t\t\tstyle={{marginBottom:'2rem'}}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tconst name = prompt('Enter Item');\n\t\t\t\t\tif(name){\n\t\t\t\t\t\tthis.postDataToDb(name);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\tAdd Item\n\t\t\t\t</Button>\n\n\t\t\t</Container>\n\t\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}